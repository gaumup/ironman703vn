{% if base is empty %}
    {% set base=( ''|app ) %}
{% endif %}

{% if ( total/perPage > 10 ) %}
    {% set range=10 %}
{% else %}
    {% set range=(total/perPage)|round(0, 'ceil') %}
{% endif %}

{% if ( current == 1 ) %}
    {% set prev=1 %}
{% else %}
    {% set prev=current-1 %}
{% endif %}

{% if ( current < last ) %}
    {% set next=current+1 %}
{% else %}
    {% set next=last %}
{% endif %}
<div class="pagination pull-right">
    <ul>
        <li class="previous {% if ( current == 1 ) %}disabled{% endif %}"><a href="{{ (base ~ prev)|app }}" class="fui-arrow-left"></a></li>

        {% for i in 1..range %}
            <li {% if ( current==i ) %}{{ 'class="active"' }}{% endif %}><a href="{{ (base ~ i)|app }}">{{ i }}</a></li>
        {% endfor %}

        <li class="next {% if ( current == last ) %}disabled{% endif %}"><a href="{{ (base ~ next)|app }}" class="fui-arrow-right"></a></li>
    </ul>
</div>